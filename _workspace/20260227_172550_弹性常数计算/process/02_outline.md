# 大纲方案（Step 2）

## 参考长度基准
- 参考文章平均：345行 / 883 words
- 目标范围：0.7-3倍 = 240-1035行
- 本教程目标：**450-550行**（两个完整案例 + 理论背景）

---

## 方案A：概念铺垫型（约520行）

**特点：** 先系统讲弹性张量理论和方法，再进入实战案例。适合希望先理解物理背景的读者。

```
# 使用 abacustest 计算晶体弹性性质

## 一、弹性张量基础（约80行）
### 1.1 应力、应变与广义胡克定律
### 1.2 Voigt 标记与弹性矩阵
### 1.3 晶体对称性对弹性张量的约束
   - 立方晶系：3个独立分量
   - 四方晶系：6个独立分量

## 二、计算方法：应力-应变法（约50行）
### 2.1 方法原理
### 2.2 abacustest 的实现方式
   - 24个形变构型（6应变×4幅度）
   - 线性拟合得弹性张量

## 三、软件准备（约30行）
### 3.1 安装 abacustest
### 3.2 准备赝势和轨道文件

## 四、案例1：Si 的弹性常数（约170行）
### 4.1 生成 Si 惯用胞结构
### 4.2 准备并提交结构优化
### 4.3 整理优化后结构
### 4.4 准备弹性计算输入文件
### 4.5 提交计算并后处理
### 4.6 结果分析：与 Materials Project 对比

## 五、案例2：金红石型 TiO₂ 的弹性常数（约120行）
### 5.1 下载结构（mp-2657）
### 5.2 计算流程
### 5.3 结果分析：6个独立分量与实验数据对比

## 六、常见问题与注意事项（约40行）

## 附录（约30行）
- 参考文献
```

**优点：** 理论完整，读者可先建立概念框架再操作
**缺点：** 理论章节占比较大，案例等到第四章才出现；与"案例驱动"要求略有距离

---

## 方案B：流程主线型（约480行）

**特点：** 以 abacustest 的计算流程为主线，每步穿插必要的理论说明，两个案例作为"主线"和"拓展"。

```
# 使用 abacustest 计算晶体弹性性质

## 一、弹性常数与计算原理（约60行）
### 1.1 弹性张量简介（广义胡克定律，Voigt标记）
### 1.2 应力-应变法原理（24个构型，线性拟合）
### 1.3 abacustest 的工作流

## 二、软件准备（约25行）
- abacustest 安装
- 赝势、轨道文件路径设置

## 三、完整计算流程（以 Si 为例）（约220行）
### 3.1 Step 1：生成初始结构
### 3.2 Step 2：结构优化（cell-relax）
   - 准备输入文件（abacustest model inputs）
   - INPUT 参数说明
   - 提交与等待
### 3.3 Step 3：整理优化后结构，准备弹性计算目录
### 3.4 Step 4：生成形变结构（elastic prepare）
   - --norm / --shear / --norelax 参数说明
   - 生成的目录结构
### 3.5 Step 5：提交计算
### 3.6 Step 6：后处理（elastic post）
   - 输出解读：弹性张量、弹性模量

## 四、计算结果分析：Si（约60行）
- 弹性张量完整输出
- 体模量、剪切模量、杨氏模量、泊松比
- 与 Materials Project 对比

## 五、扩展：金红石型 TiO₂（约80行）
- 命令流程（参照第三章）
- 四方晶系的6个独立分量
- 结果与实验数据详细对比表

## 附录（约35行）
```

**优点：** 流程清晰，步骤编号对应操作步骤，易于复现；计算流程可直接复用
**缺点：** 两个案例地位不对称（Si主+TiO₂副），TiO₂的内容相对简略

---

## 方案C：双案例并列型（约500行）【推荐】

**特点：** 理论简述后，Si和TiO₂各作为独立章节，完整呈现每个案例。最契合"围绕案例展开"的要求。

```
# 使用 abacustest 计算晶体弹性性质

## 一、背景与方法（约60行）
### 1.1 弹性张量与应力-应变法
   - 广义胡克定律，Voigt标记
   - 应变方案：6种应变×4幅度=24构型
   - 晶体对称性与独立分量数
### 1.2 abacustest 弹性计算工作流概述
   （流程图：生成结构→优化→elastic prepare→计算→post）

## 二、软件准备（约25行）
- abacustest 安装
- 赝势与轨道文件环境变量

## 三、案例一：Si 的弹性常数（约200行）
### 3.1 生成 Si 惯用胞
   - ase 脚本生成 CIF
### 3.2 结构优化
   - abacustest model inputs 命令及参数详解
   - 提交 cell-relax 计算
### 3.3 准备弹性计算目录
   - 整理优化后结构，修改为 SCF 计算
### 3.4 生成形变构型与计算
   - abacustest model elastic prepare 参数说明
   - 生成的 deform-*/org 目录结构
   - 提交计算
### 3.5 后处理与结果分析
   - abacustest model elastic post 输出解读
   - 完整弹性张量矩阵
   - 体模量/剪切模量/杨氏模量/泊松比汇总
   - 与 Materials Project 对比

## 四、案例二：金红石型 TiO₂ 的弹性常数（约150行）
### 4.1 获取结构（Materials Project mp-2657）
### 4.2 结构优化
### 4.3 弹性计算
   - 与 Si 流程相同，命令简述
### 4.4 结果分析
   - 四方晶系：6个独立弹性张量元的含义
   - 完整弹性张量矩阵
   - 详细对比表：本文 vs Materials Project vs 实验测量

## 五、讨论与小结（约30行）
- abacustest 的优势：自动化流程，无需手写脚本
- 注意事项汇总（不要重复 prepare！应变幅度选择等）
- 可扩展的方向

## 附录（约35行）
- 参考文献
```

**优点：**
- 两个案例地位平等，各自完整呈现
- 理论简洁，案例是核心
- 从简单（立方，3分量）到复杂（四方，6分量），学习曲线自然
- 方案C中TiO₂章节还能展示四方晶系特有的分析（实验对比表）

**缺点：** 部分操作步骤在两章中有重复，需注意"参照第三章相同步骤"的处理

---

## 推荐选择

**推荐方案C**，原因：
1. 用户明确要求"围绕案例展开"，方案C两个案例都是主角
2. Si→TiO₂的递进关系（简单立方→复杂四方）符合学习规律
3. TiO₂的实验对比表是案例中最有价值的内容，单独成章才能充分呈现
4. 总长度约500行，在合理范围内
